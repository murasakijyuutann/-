1. package mjyuu.vocaloidshop.dto;

import lombok.AllArgsConstructor;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;
import lombok.ToString;

import jakarta.validation.constraints.Email;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Size;

@AllArgsConstructor 
@NoArgsConstructor  
@ToString
@Setter
@Getter
public class MemberDTO {
    private Long id;
    
    @Email(message = "Invalid email format")
    @Size(max = 50, message = "Email must be at most 50 characters")
	private String name;

    @NotBlank( message = "Email is required" )
    @Email( message = "Invalid email format" )
    private String email;
    
    @NotBlank( message = "Password is required" )
    @Size(min = 8, message = "Password must be at least 8 characters")
    private String password;
}


2. 

package mjyuu.vocaloidshop.controller;

import java.util.List;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;

import jakarta.validation.Valid;

import mjyuu.vocaloidshop.dto.MemberDTO;
import mjyuu.vocaloidshop.repository.MemberRepository;

import lombok.AllArgsConstructor;

@RequestMapping("/members")
@AllArgsConstructor  //생성자 주입(new와 동일)
@Controller
public class MemberController {
	
	private MemberRepository repository;
	
	//회원 가입 화면 요청
	@GetMapping("/add")
	public String addForm() {
		return "member/addForm";  //addForm.html
	}
	
	//회원 등록 처리
	@PostMapping("/add")
	public String add(@Valid @ModelAttribute MemberDTO member) {
		System.out.println("member: " + member);

		repository.save(member);
		return "redirect:/members";
	}
	
	//회원 목록 
	@GetMapping
	public String list(Model model) {
		List<MemberDTO> members = repository.findAll();  //목록 보기 메서드 호출
		//members 모델을 저장해서 뷰로 보냄
		model.addAttribute("members", members);
		return "member/members";
	}
}

3.
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8">
<title>회원 가입</title>
</head>
<body>
	<div id="content">
		<form th:action="@{/members/add}" method="post">
			<p>
				name: <input type="text" name="name">
			</p>
			<p>
				email: <input type="text" name="email">
			</p>
            <p>
				password: <input type="password" name="password">
			</p>
			<p>
				<input type="submit" value="submit">
			</p>
		</form>
	</div>
</body>
</html>


JPA - 
1 번 2번문제 답

package mjyuu.vocaloidshop.entity;

import java.security.Timestamp;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import lombok.Data;


@Entity
@Data
public class Member {

    @Id // 회원 ID 필드가 추가되어야 함 JPA 1번문제
    @GeneratedValue(strategy = GenerationType.IDENTITY) // 자동 생성 JPA 2번문제
    private Long id;
    private String name;
    private String email;
    private String password;
    private Timestamp joinDate;

}




